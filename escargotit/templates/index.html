<!DOCTYPE html>
<html>
<head>
  <style>
    body {
        font-family: Arial, sans-serif;
    }

    .dashboard {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px;
        background-color: #f5f5f5;
        }

        .metric {
            display: flex;
    flex-direction: column;
            margin: 50px;
        box-shadow: 5px 5px 10px rgb(56, 56, 56);
        flex-basis: 30%;
        padding: 20px;
        background-color: #ffffff;
        border-radius: 4px;
        }

        .metric-title {
        margin-top: 0;
        }

        .metric-value {
        display: inline-block;
        font-size: 32px;
        font-weight: bold;
        color: #3498db;
        }

        .metric-value.percentage.mortality.label {
        color: #db3445;
        }

        /* Animation styles for metric values */
        .metric-value.label::after {
        content: "";
        display: block;
        position: absolute;
        top: 0;
        left: 0;
        width: 0;
        height: 100%;
        background-color: #3498db;
        transition: width 1s ease-in-out;
        }

        /* .metric-value.label:hover::after {
        width: 100%;
        } */

        /* Animation styles for metric values */
        .percentage.label::after {
        content: "%";
        display: inline-block;
        color: #3498db;
        font-size: 32px;
        position: relative;
        }

        .percentage.mortality.label::after {
        color: #db3445;
        }

        .days.label::after {
        content: "days";
        display: inline-block;
        color: #3498db;
        font-size: 20px;
        position: relative;
        margin-left: 10px;
        }

        .feed.label::after {
        content: "grams";
        display: inline-block;
        color: #3498db;
        font-size: 20px;
        position: relative;
        margin-left: 10px;
        }

  </style>
</head>
<body>
    <div class="dashboard">
        <h1>Snail Bed Performance Dashboard</h1>
    </div>
  <div class="dashboard">
    <div class="metric">
      <h2 class="metric-title">Snail Feed</h2>
      <span class="metric-value label feed" data-start="0" data-end="{{ snail_performance.snail_feed }}" data-duration="2000"></span>
    </div>
    <div class="metric">
      <h2 class="metric-title">Snail Birth Rate</h2>
      <span class="metric-value label percentage" data-start="0" data-end="{{ snail_performance.snail_birth_rate }}" data-duration="2500"></span>
    </div>
    <div class="metric">
      <h2 class="metric-title">Mortality Rate</h2>
      <span class="metric-value label percentage mortality" data-start="0" data-end="{{ snail_performance.snail_mortality_rate }}" data-duration="3000"></span>
    </div>
  </div>
  <div class="dashboard">
    <div class="metric">
        <h2 class="metric-title">Time Taken to Mature</h2>
        <span class="metric-value label days" data-start="0" data-end="{{ snail_performance.time_taken_to_mature }}" data-duration="3500"></span>
      </div>
      <div class="metric">
        <h2 class="metric-title">Bed Performance</h2>
        <span class="metric-value label percentage" data-start="0" data-end="{{ snail_performance.bed_performance }}" data-duration="4500"></span>
      </div>
  </div>

  <script>
            // Function to animate numbers incrementally
        function animateNumbers(element, startValue, endValue, duration) {
        let range = endValue - startValue;
        let current = startValue;
        let increment = endValue > startValue ? 1 : -1;
        let stepTime = Math.abs(Math.floor(duration / range));
        let timer = setInterval(function() {
            current += increment;
            element.textContent = current;
            if (current === endValue) {
            clearInterval(timer);
            }
        }, stepTime);
        }

        // Get all elements with class "label"
        const labels = document.querySelectorAll(".label");

        // Animate each label element
        labels.forEach(function(label) {
        // Get the data attributes for startValue, endValue, and duration
        let startValue = parseInt(label.dataset.start);
        let endValue = parseInt(label.dataset.end);
        let duration = parseInt(label.dataset.duration);

        animateNumbers(label, startValue, endValue, duration);
        });
  </script>
</body>
</html>